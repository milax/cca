"use strict";var CCA={}||CCA;!function(a){CCA.Scroll=function(){var b=a(".go-top"),c=function(){b.click(d)},d=function(){function b(){a("html, body").animate({scrollTop:a("body").prop("scrollHeight")},500)}function c(b){a("html, body").animate({scrollTop:b?b.offset().top:0},500)}var d,e,f,g=a(this);return g.hasClass("go-top")?c(0):g.hasClass("go-next")&&(d=g.closest(".site--section"),e=d.closest(".site"),f=d.next(".site--section"),f=f.length?f:e.next(".site"),f.length?c(f):b()),!1},e=function(){c()};return{init:e}},CCA.RenderPage=function(){var b=function(a){var b={};return b.url=a.slug,b.title=a.fragments["article.title"].value[0].text,a.fragments["article.cuff"]&&(b.cuff=a.fragments["article.cuff"].value[0].text),a.fragments["article.illustration"]&&(b.image={url:a.fragments["article.illustration"].value.main.url}),a.fragments["article.content"]&&(b.content=a.fragments["article.content"].value),b},c=function(){var c=window.location.hash.substring(1);Helpers.withPrismic(function(d){d.api.form("everything").ref(d.ref).submit(function(d,e){var f,g,h=e.results,i=[];if(d)return void Configuration.onPrismicError(d);if(c)for(f=0,g=h.length;g>f;++f)if(h[f].slug===c){i.push(b(h[f]));break}if(!c||!i.length)for(f=0,g=h.length;g>f;++f)i.push(b(h[f]));a("#sites").render({sites:i,hash:c},function(){a("[data-forcereload=true]").click(function(){window.location=a(this).attr("href"),window.location.reload()})})})})};return{init:c}},a(function(){var a=new CCA.Scroll;a.init();var b=new CCA.RenderPage;b.init()})}(jQuery);